<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <title>Title</title>
</head>
<body>
    <script>
        console.log(![]);       // false
        console.log([]);        //[]
        console.log([] == []);  //false
        console.log([] == ![]); //true
        console.log("" == 0);   //true

        console.log([].toString()); //"" 空字符串
    </script>

    <pre>
        在 JavaScript 中，[] == ![]的结果是true，这主要是因为 JavaScript 在进行==（宽松相等）比较时会执行类型转换。下面我们一步步来分析：

        右侧 ![] 的求值：
        []是一个空数组，它是一个真值（truthy value）。
        对一个真值使用逻辑非运算符!，会将其转换为布尔值false。
        所以，![]的结果是false。

        左侧 [] 和右侧 false 的比较：
        现在我们面临的是[] == false。
        当==运算符比较一个对象（在这里是数组[]）和一个布尔值时，JavaScript 会尝试将它们都转换为原始值进行比较。
        将 false 转换为数字：布尔值false会被转换为数字0。
        将 [] 转换为原始值：对于对象，JavaScript 会调用它的[Symbol.toPrimitive]方法（如果存在），
        或者依次调用valueOf()和toString()方法来获取一个原始值。
        [].valueOf()返回数组本身[]。
        [].toString()返回空字符串""。

        所以，[] == false变成了"" == 0。

        "" == 0 的比较：
        当比较一个字符串和一个数字时，JavaScript 会尝试将字符串转换为数字。
        空字符串""转换为数字是0。
        所以，"" == 0变成了0 == 0。

        0 == 0 的比较：
        0 == 0显然是true。

        总结一下转换过程：
            [] == ![]
            [] == false

            "" == false (因为 [].toString() 是 "")

            "" == 0 (因为 false 转换为数字是 0)

            0 == 0 (因为 "" 转换为数字是 0)

            true

            因此，[] == ![]输出为true的原因在于 JavaScript 宽松相等比较中的一系列隐式类型转换规则。
    </pre>
</body>
</html>